<html lang="en">
<head>
<title>Teng Liu</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="description" content="Teng Liu home page developing">
<link rel="stylesheet" title="Default stylesheet for CIAO-related pages" href="style/ciao.css">
<link rel="stylesheet" title="Default stylesheet for CIAO-related pages" media="print" href="style/ciao.print.css">
<link rel="icon" href="style/patrick.ico">
<style type="text/css">html { display: none; }</style>
<script type="text/javascript">
if (self == top) {
  document.documentElement.style.display = 'block';
} else {
  top.location = self.location;
} </script>
</head>
<body> 
 
<div id="cxcheader">
	
  <div id="cxcheaderleft">
       <a href="#ThankCXC"><img style="min-width: 100%" id="titlepicture" src="Figures/EXSdetect.png" alt="aa"></a>
  </div>
  <div id="cxcheaderright">
	  <ul>
   	      <li><a href="EXSdetect_Introduction.html">EXSdetect</a></li>   
	      <li><a href="SweepLine_Introduction.html">SweepLine</a></li>          
	      <li><a href="EXSdetect_Download.html">Download</a></li>
	  </ul>              

	  <ul>
           <li><a href="../index.html">SWXCS</a></li>
	  </ul>        

  </div>
</div>
 
<div class="topbarcontainer withnavbar">
	<div class="topbar"> <p></p> </div>
</div>

<div id="main"> <!--main-->

<div id="content"> <!--content-->
<div class="wrap"> <!--wrap-->
<!--ENDHEAD-->
<!--BEGINCONTENT-->

<table class="ahelpheader" width="100%"><tbody><tr>
<td align="center" width="40%"><h1 class="ahelp">2Drandom.py</h1></td>
</tr></tbody></table>
<hr size="5" noshade="">
<h2><a name="synopsis">Synopsis</a></h2>
<p>
Generate random samples following the 2D distribution of input data.
</p>
<h2><a name="Description">Description</a></h2>
<p>It is often needed to generate random values following a 2D sampling distribution. This is not straightforward when the two values are correlated. For example, I have a sample of 100 sources with redshifts and fluxes (higher redshift, lower flux). For Monte-Carlo simulation, I need to draw 10000 random sources from this population, recovering the redshift-flux joint distribution. "2Drandom.py" realizes this function with the aid of Voronoi tessellation.</p>
<p>Using an extension function in "SweepLine.py", the 2D space can be divided into pieces of triangles, each of which is composed of one Voronoi edge and one Voronoi site. The probability (weight) of a random point falling in each triangle is proportional to the number of data points in it, that is, 1 &times triangle area / cell area (It is &lt 1).
To generate a desired random position, "2Drandom.py" first select randomly one from all the triangles considering their weights, and then distribute a point randomly inside the triangle.</p>
<h2><a name="syntax">Syntax</a></h2>
<div class="ahelpverbatim"><pre class="highlight">
2Drandom.py inputfile [number] [output] [--border xlow,xhigh,ylow,yhigh]

    inputfile: 2D data in the first two columns
    number: default 100
    output: file name can not be a number
    --border xlow,xhigh,ylow,yhigh: Set image border. Any one of the four can be empty.
</pre></div>
<h2><a name="syntax">Example</a></h2>
<p>File "AGN.dat" contains redshifts and photon counts of 327 AGNs.</p>
<div class="ahelpverbatim"><pre class="highlight">
unix$ 2Drandom.py AGN.dat 1000 --border 0,7.5,1.5,5
Voronoi Construction: AGN
image size: 0.0-7.5 1.5-5.0
>> AGN_Triangles.dat
EdgePoints removed in Amap
1000 random points saved in AGN_2Drandom.dat
</pre></div>
<div align='center'><img src="Figures/2Drandom1.png"></div>
<div align='center'><p>Distribution of the 327 sources</p></div>
<div align='center'><img src="Figures/2Drandom2.png"></div>
<div align='center'><p>Divide the space into triangles.</p></div>
<div align='center'><img src="Figures/2Drandom3.png"></div>
<div align='center'><p>1000 random positions generated.</p></div>

<h2><a name="syntax">Download</a></h2>
<div align='center'>
<h2><a href="Files/2Drandom.tar.gz">2Drandom.tar.gz</a></h2>
</div>
<h2><a name="syntax">Todo</a></h2>
Add -xerr -yerr options
<!--ENDCONTENT-->
<!--BEGINTAIL-->
</div> <!--wrap-->
</div> <!--content-->

<div id="navbar">
	<div class="wrap">
	<dl>
	<dt><span class="heading">EXSdetect</span></dt>
		<dd><a href="EXSdetect_Introduction.html">Introduction</a></dd>
		<dd><a href="EXSdetect_Download.html">Download</a></dd>
		<dd><a href="EXSdetect_Input.html">Input & Setting</a></dd>
		<dd><a href="EXSdetect_Output.html">Output</a></dd>
		<dd><a href="EXSdetect_Tricks.html">Tips & Tricks</a></dd>
	<dt><span class="heading">Sweep Line</span></dt>
		<dd><a href="SweepLine_Introduction.html">Introduction</a></dd>
		<dd><a href="EXSdetect_Download.html">Download</a></dd>
		<dd><a href="SweepLine_Basic.html">Basic Function</a></dd>
		<dd><a href="SweepLine_More.html">Extensions</a></dd>
	<dt><span class="heading">Friend Of Friend</span></dt>
		<dd><a href="FOF_Introduction.html">Introduction</a></dd>
		<dd><a href="EXSdetect_Download.html">Download</a></dd>
	<dt><span class="heading">2D random</span></dt>
		<dd><a href="2Drandom.html">Introduction</a></dd>
	<dt><span class="heading">Links</span></dt>
		<dd><a href="https://www.python.org/">Python</a></dd>
		<dd><a href="http://www.numpy.org/">numpy</a></dd>
		<dd><a href="http://www.scipy.org/">scipy</a></dd>
		<dd><a href="http://www.stsci.edu/institute/software_hardware/pyfits">pyfits</a></dd>
		<dd><a href="http://ds9.si.edu/site/Home.html">SAO ds9</a></dd>
	</dl>
	</div>
</div>

</div> <!--main-->
 
<br clear="all"><div class="bottombar"><div class="lastmodbar">Last modified: December 2013</div></div>
<div id="cxcfooter">
	<div id="cxcfooterleft"> <img src="style/patrick_120x120.jpeg" alt="logo" style="float:center"> </div>
	<div id="cxcfooterright">
	<a name="ThankCXC"></a>
	<p> Ha ha~, you know where the web page style is stolen from, if you are a X-ray astronomer. I like the <a href="http://cxc.harvard.edu/ciao/">"CIAO"</a> website a lot. Grazie, CIAO. I acknowledge the Chandra X-ray Center (CXC) for their excellent work.<br>
	</p>
	<a style="float:right;color:white;font-size:90%" href="mailto:lewtonstein@gmail.com">Teng Liu  Email: lewtonstein@gmail.com</a>
	</div>
</div>
 
</body></html>
